<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Crypto Dashboard — Pro (Fixed Panels + AI)</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
  <div class="container">
    <h1>Crypto Dashboard — Pro (Fixed Panels + AI)</h1>
    <p class="subtitle">Fixed embed issues + full AI predictive model (server template included). Set <code>API_BASE</code> in <code>script.js</code> to enable server predictions.</p>
  </div>
</header>

<main class="container">
  <section class="grid">
    <div class="card">
      <h2>BTC Live Chart</h2>
      <iframe src="https://s.tradingview.com/widgetembed/?frameElementId=tv_btc&symbol=BINANCE:BTCUSDT&interval=60&theme=dark"></iframe>
    </div>
    <div class="card">
      <h2>XRP Live Chart</h2>
      <iframe src="https://s.tradingview.com/widgetembed/?frameElementId=tv_xrp&symbol=BINANCE:XRPUSDT&interval=60&theme=dark"></iframe>
    </div>
    <div class="card">
      <h2>GALA Live Chart</h2>
      <iframe src="https://s.tradingview.com/widgetembed/?frameElementId=tv_gala&symbol=BINANCE:GALAUSDT&interval=60&theme=dark"></iframe>
    </div>
  </section>

  <section class="grid">
    <div class="card">
      <h2>Predictive Signals (Per Coin)</h2>
      <div class="signals">
        <div class="signal-row"><strong>BTC:</strong> <span id="btcSignal" class="signal neutral">—</span> <small id="btcExplain"></small></div>
        <div class="signal-row"><strong>XRP:</strong> <span id="xrpSignal" class="signal neutral">—</span> <small id="xrpExplain"></small></div>
        <div class="signal-row"><strong>GALA:</strong> <span id="galaSignal" class="signal neutral">—</span> <small id="galaExplain"></small></div>
      </div>
      <p class="small">Signals combine lightweight client-side model + optional server-side AI (recommended).</p>
    </div>

    <div class="card">
      <h2>Volatility Forecast (BTC)</h2>
      <canvas id="volChart"></canvas>
      <p class="small">Client-side EWMA volatility forecast (demo).</p>
    </div>

    <div class="card">
      <h2>Market Heatmap & Sentiment</h2>
      <!-- Coin360 embed that should work on Pages -->
      <iframe src="https://coin360.com/widget/map?theme=dark"></iframe>
      <div style="margin-top:8px;">
        <iframe src="https://alternative.me/crypto/fear-and-greed-index/widget/" style="height:120px;"></iframe>
      </div>
    </div>
  </section>

  <section class="grid">
    <div class="card">
      <h2>Stablecoin Composition (Demo)</h2>
      <canvas id="stablecoinChart" height="140"></canvas>
      <p class="small">Demo composition of USDT / USDC (client-side). For exchange reserve data use server proxy to CryptoQuant or similar.</p>
    </div>

    <div class="card">
      <h2>Long/Short & Funding Snapshot</h2>
      <!-- TradingView funding widget (works reliably) -->
      <iframe src="https://s.tradingview.com/widgetembed/?frameElementId=funding&symbol=BINANCE:BTCUSDT&interval=60&theme=dark" style="height:220px;"></iframe>
    </div>

    <div class="card">
      <h2>Decision Panel</h2>
      <div class="decision" id="decisionBox">
        <div id="traffic" class="traffic neutral">NEUTRAL</div>
        <div id="decisionExplain" class="small">Loading...</div>
        <div style="margin-top:8px;">
          <button id="runModels">Run Models</button>
          <button id="download">Download Page</button>
        </div>
      </div>
    </div>
  </section>

  <section class="notes card">
    <h3>Notes & Next Steps</h3>
    <ul>
      <li>This project is static front-end ready for GitHub Pages.</li>
      <li>To enable server-side predictions, deploy the provided <code>server_example</code> FastAPI service and set <code>API_BASE</code> in <code>script.js</code>.</li>
      <li>Server includes a simple RandomForest model template; replace with LSTM/Transformer for production.</li>
    </ul>
  </section>

</main>

<footer>
  <div class="container">Built for demonstration. Not financial advice. See README for deployment steps.</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>
</body>
</html>
