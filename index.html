<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Crypto Dashboard - Full AI Model (with Coin Manager)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
 body { font-family: Arial; background:#0b0b0b; color:white; margin:0; }
 header { padding:20px; font-size:22px; text-align:left; background:#111; display:flex; align-items:center; gap:12px; }
 .app { display:flex; height:calc(100vh - 60px); }
 .sidebar { width:220px; background:#0f1720; padding:10px; box-sizing:border-box; }
 .sidebar ul { list-style:none; padding:0; margin:0; }
 .sidebar li { padding:12px; cursor:pointer; border-radius:6px; margin-bottom:8px; }
 .sidebar li:hover { background:#111827; }
 .sidebar .active { background:#1f2937; }
 .content { flex:1; padding:20px; overflow:auto; }
 .page { display:none; }
 .page.active { display:block; }
 .panel { background:#111827; padding:15px; border-radius:10px; margin-bottom:12px; }
 input, button, select { padding:8px; border-radius:6px; border:0; }
 table { width:100%; border-collapse:collapse; margin-top:10px; }
 th, td { padding:8px; text-align:left; border-bottom:1px solid #222; }
 .small { font-size:13px; color:#9ca3af; }
 .btn-danger { background:#b91c1c; color:white; padding:6px 10px; border-radius:6px; border:0; cursor:pointer;}
 .btn { background:#2563eb; color:white; padding:8px 12px; border-radius:6px; border:0; cursor:pointer;}
</style>
</head>
<body>
<header>
  <div style="font-weight:700;">Crypto Dashboard</div>
  <div style="margin-left:auto;" class="small">AI Model â€¢ Live Feeds</div>
</header>

<div class="app">
  <nav class="sidebar">
    <ul>
      <li id="menu-markets" class="active">Markets</li>
      <li id="menu-wallet">Wallet</li>
      <li id="menu-coin-manager">Coin Manager</li>
      <li id="menu-settings">Settings</li>
    </ul>
  </nav>

  <main class="content">
    <section id="markets" class="page active">
      <h2>Markets</h2>
      <div id="market-cards" class="grid">
        <!-- existing market content preserved below -->
        <div class="panel">
         <h3>Volatility</h3>
         <canvas id="volatility"></canvas>
        </div>
        <div class="panel">
         <h3>AI Predictive Buy/Sell Score</h3>
         <div id="ai-score" style="font-size:24px;text-align:center;margin-top:40px;">Loading...</div>
        </div>
      </div>
    </section>

    <section id="wallet" class="page">
      <h2>Wallet</h2>
      <div class="panel">Wallet content...</div>
    </section>

    <section id="coin-manager" class="page">
      <h2>Coin Manager</h2>
      <div class="panel">
        <div style="display:flex; gap:8px; flex-wrap:wrap;">
          <input id="cm-name" placeholder="Coin name (e.g., Bitcoin)" />
          <input id="cm-symbol" placeholder="Symbol (e.g., BTC)" />
          <input id="cm-api" placeholder="API (optional)" style="flex:1;" />
          <button id="cm-add" class="btn">Add Coin</button>
        </div>
        <div id="cm-status" class="small" style="margin-top:8px;">Changes saved to browser localStorage.</div>

        <table id="cm-table" aria-label="Coin list">
          <thead><tr><th>Coin</th><th>Symbol</th><th>API</th><th>Actions</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section id="settings" class="page">
      <h2>Settings</h2>
      <div class="panel">Settings content...</div>
    </section>
  </main>
</div>

<script src="assets/coin-manager.js"></script>
<!-- keep existing scripts (if any) -->
<script src="assets/ai_model.js"></script>
<script src="assets/dominance.js"></script>
<script src="assets/volatility.js"></script>

<script>
// navigation logic
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.sidebar li').forEach(li=>li.classList.remove('active'));
  document.getElementById('menu-'+id).classList.add('active');
}
document.getElementById('menu-markets').onclick = ()=> showPage('markets');
document.getElementById('menu-wallet').onclick = ()=> showPage('wallet');
document.getElementById('menu-coin-manager').onclick = ()=> showPage('coin-manager');
document.getElementById('menu-settings').onclick = ()=> showPage('settings');

// when coins update, you can listen for the custom event 'coinsUpdated'
document.addEventListener('coinsUpdated', (e)=>{
  console.log('Coins updated:', e.detail);
  // update AI score or other modules here if desired
  const ai = document.getElementById('ai-score');
  ai.textContent = 'Coins: ' + e.detail.join(', ');
});
</script>
</body>
</html>
